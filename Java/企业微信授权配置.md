# 企业微信授权配置

### 授权配置

文档地址：[https://work.weixin.qq.com/api/doc#90000/90135/91022](#90000/90135/91022)

**授权链接**：https://open.weixin.qq.com/connect/oauth2/authorize?appid=CORPID&redirect_uri=REDIRECT_URI&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect

参数解释

| 参数              | 是否必填 | 说明                                                         |
| ----------------- | -------- | ------------------------------------------------------------ |
| appid             | 是       | 为企业微信的企业id                                           |
| redirect_uri      | 是       | 授权后重定向的回调链接地址，**请使用urlencode对链接进行处理** |
| response_type     | 是       | 返回类型，此时固定为：code                                   |
| scope             | 是       | 应用授权作用域。企业自建应用固定填写：snsapi_base            |
| state             | 否       | 重定向后会带上state参数，企业可以填写a-zA-Z0-9的参数值，长度不可超过128个字节 |
| \#wechat_redirect | 是       | 终端使用此参数判断是否需要带上身份信息                       |

**企业id查找方式：**电脑登录企业微信PC管理系统（https://work.weixin.qq.com/），顶部菜单栏中找到<我的企业 --滑动最底部找到企业ID>

**redirect_uri:**  授权后重定向的回调链接地址，**请使用urlencode对链接进行处理**（**使用域名映射后的地址访问**）

### 应用创建

电脑登录企业微信PC管理系统，顶部菜单栏中找到 : 应用管理->自建（选择已有应用或创建应用），在创建好的应用中能得到后端进行企业微信登录获取用户信息的，应用秘钥，即应用名称下方：**Secret的值**

应用秘钥用于后端接口，是获取企业微信访问应用获取用户信息必不可少的

应用设置连接访问：
1、开启应用
2、设置应用允许可见访问
3、找到下方开发者接口模块，进行网页授权及JS-SDK，在该页面将上面👆配置好的域名填写在，**可作为应用OAuth2.0网页授权功能的回调域名 ** 框中即可
4、配置访问菜单，在功能模块中找到->自定义菜单，点击进去新增或者修改一个模块的访问地址，改地址为上方👆配置好的 **授权链接**，进行保存发布即可访问
5、功能模块中有发送消息、消息自动回复等其他功能配置，可自行根据需要配置